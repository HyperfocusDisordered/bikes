{
  "_meta": {
    "_instructions": "‚ö†Ô∏è –í–ê–ñ–ù–û: –≠—Ç–æ—Ç —Ñ–∞–π–ª —è–≤–ª—è–µ—Ç—Å—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –∏—Å—Ç–∏–Ω—ã –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞",
    "_last_updated": "2026-01-23",
    "_purpose": "–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã bike sharing PWA –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è",
    "_tech_stack": "ClojureDart Frontend + Clojure Backend + Google Maps + PWA",
    "_backend": "Clojure HTTP API –Ω–∞ http://localhost:3000"
  },
  "üì± screens": {
    "[üó∫Ô∏è map-screen]": {
      "description": "–ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω —Å –∫–∞—Ä—Ç–æ–π –∏ –≤–µ–ª–æ—Å–∏–ø–µ–¥–∞–º–∏",
      "file": "src/bikes/screens/map_screen.cljd",
      "namespace": "bikes.screens.map-screen",
      "features": [
        "üó∫Ô∏è Google Maps –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è",
        "üìç –ú–∞—Ä–∫–µ—Ä—ã –≤–µ–ª–æ—Å–∏–ø–µ–¥–æ–≤ –Ω–∞ –∫–∞—Ä—Ç–µ (mock-bikes)",
        "üì∑ –ö–Ω–æ–ø–∫–∞ Scan QR –≤–Ω–∏–∑—É",
        "üìç –ö–Ω–æ–ø–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è",
        "üîç –ö–Ω–æ–ø–∫–∏ –∑—É–º–∞",
        "‚ò∞ –ö–Ω–æ–ø–∫–∞ –º–µ–Ω—é"
      ],
      "components": [
        "map-view - GoogleMap –≤–∏–¥–∂–µ—Ç",
        "scan-button - –∫–Ω–æ–ø–∫–∞ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è",
        "menu-button - –∫–Ω–æ–ø–∫–∞ –º–µ–Ω—é",
        "location-button - –∫–Ω–æ–ø–∫–∞ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è",
        "zoom-controls - –∫–Ω–æ–ø–∫–∏ –∑—É–º–∞"
      ]
    },
    "[üè† home]": {
      "description": "–î–æ–º–∞—à–Ω–∏–π —ç–∫—Ä–∞–Ω —Å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ–º",
      "file": "src/bikes/screens/home.cljd",
      "namespace": "bikes.screens.home",
      "features": [
        "üé® Welcome card —Å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ–º",
        "üì± AppBar —Å logo –∏ actions",
        "üîò Quick Actions (Scan QR, Current Rental)",
        "üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (Total Rides, Total Distance)"
      ],
      "components": [
        "leading - logo üö¥",
        "profile - –∫–Ω–æ–ø–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è üë§",
        "settings - –∫–Ω–æ–ø–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ ‚öôÔ∏è",
        "app-bar - AppBar —Å actions",
        "welcome - Welcome card",
        "scan - –∫–Ω–æ–ø–∫–∞ Scan QR Code",
        "current-rental - —Ç–µ–∫—É—â–∞—è –∞—Ä–µ–Ω–¥–∞"
      ]
    },
    "[üö¥ bike-rental]": {
      "description": "–≠–∫—Ä–∞–Ω –∞—Ä–µ–Ω–¥—ã –±–∞–π–∫–∞",
      "file": "src/bikes/screens/bike_rental.cljd",
      "namespace": "bikes.screens.bike-rental",
      "features": [
        "‚ÑπÔ∏è Bike information card",
        "üìä Rental status (active/inactive)",
        "‚ñ∂Ô∏è Start rental button",
        "‚èπÔ∏è End rental button",
        "üìù Instructions card",
        "üö´ No bike selected placeholder"
      ],
      "components": [
        "back - –∫–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥",
        "bike-info - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–∞–π–∫–µ",
        "rental-status - —Å—Ç–∞—Ç—É—Å –∞—Ä–µ–Ω–¥—ã",
        "start - –∫–Ω–æ–ø–∫–∞ –Ω–∞—á–∞–ª–∞ –∞—Ä–µ–Ω–¥—ã",
        "end - –∫–Ω–æ–ø–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞—Ä–µ–Ω–¥—ã",
        "instructions - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏",
        "no-bike-selected - placeholder"
      ]
    },
    "[üì∑ qr-scanner]": {
      "description": "–≠–∫—Ä–∞–Ω —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è QR –∫–æ–¥–∞",
      "file": "src/bikes/screens/qr_scanner.cljd",
      "namespace": "bikes.screens.qr-scanner",
      "features": [
        "üì∏ Camera/QR scanner placeholder",
        "üé≤ Simulate QR Scan (Test)",
        "üì± PWA Install Prompt",
        "üìù Manual code input fallback"
      ],
      "components": [
        "back - –∫–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥",
        "camera - placeholder –∫–∞–º–µ—Ä—ã",
        "scan - —Å–∏–º—É–ª—è—Ü–∏—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è",
        "pwa - PWA install prompt"
      ]
    }
  },
  "üóÇÔ∏è state": {
    "[üíæ app-state]": {
      "description": "–ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (atoms)",
      "file": "src/bikes/state/app_state.cljd",
      "namespace": "bikes.state.app-state",
      "atoms": [
        "current-rental - —Ç–µ–∫—É—â–∞—è –∞—Ä–µ–Ω–¥–∞",
        "current-bike - —Ç–µ–∫—É—â–∏–π –±–∞–π–∫",
        "user - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å",
        "pwa-installed - —Ñ–ª–∞–≥ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ PWA"
      ],
      "functions": [
        "set-current-bike - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–π –±–∞–π–∫",
        "set-current-rental - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞—Ä–µ–Ω–¥—É",
        "clear-rental - –æ—á–∏—Å—Ç–∏—Ç—å –∞—Ä–µ–Ω–¥—É –∏ –±–∞–π–∫",
        "set-user - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
        "set-pwa-installed - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ–ª–∞–≥ PWA"
      ]
    }
  },
  "üåê services": {
    "[üîå api]": {
      "description": "API –∫–ª–∏–µ–Ω—Ç –¥–ª—è –±—ç–∫–µ–Ω–¥–∞",
      "file": "src/bikes/services/api.cljd",
      "namespace": "bikes.services.api",
      "baseUrl": "https://api.bikes.example.com",
      "functions": [
        "request(method, endpoint, data) - –±–∞–∑–æ–≤—ã–π HTTP –∑–∞–ø—Ä–æ—Å",
        "get-bike-by-qr(qr-code) - –ø–æ–ª—É—á–∏—Ç—å –±–∞–π–∫ –ø–æ QR",
        "start-rental(bike-id, user-id) - –Ω–∞—á–∞—Ç—å –∞—Ä–µ–Ω–¥—É",
        "end-rental(rental-id) - –∑–∞–≤–µ—Ä—à–∏—Ç—å –∞—Ä–µ–Ω–¥—É",
        "get-current-rental(user-id) - –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â—É—é –∞—Ä–µ–Ω–¥—É",
        "authenticate(phone-number) - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è"
      ],
      "status": "TODO: —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ http –ø–∞–∫–µ—Ç"
    },
    "[üîµ bluetooth]": {
      "description": "Bluetooth —Å–µ—Ä–≤–∏—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–π–∫–æ–º",
      "file": "src/bikes/services/bluetooth.cljd",
      "namespace": "bikes.services.bluetooth",
      "status": "TODO: —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è"
    }
  },
  "üé® components": {
    "[üì± pwa-install]": {
      "description": "PWA Installation –∫–æ–º–ø–æ–Ω–µ–Ω—Ç",
      "file": "src/bikes/components/pwa_install.cljd",
      "namespace": "bikes.components.pwa-install",
      "functions": [
        "install-prompt - PWA install prompt"
      ]
    }
  },
  "üîÑ routing": {
    "routes": {
      "/": "map-screen (default)",
      "/home": "home-screen",
      "/qr-scanner": "qr-scanner-screen",
      "/rental": "bike-rental-screen"
    },
    "preview_mode": "?component=<component-name> –¥–ª—è –ø—Ä–µ–≤—å—é –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤"
  },
  "üì¶ mock_data": {
    "bikes": [
      {
        "id": "bike-1",
        "lat": 41.7151,
        "lng": 44.8271,
        "battery": 85,
        "price": 2.5
      },
      {
        "id": "bike-2",
        "lat": 41.7161,
        "lng": 44.8281,
        "battery": 60,
        "price": 2.5
      },
      {
        "id": "bike-3",
        "lat": 41.7141,
        "lng": 44.8261,
        "battery": 95,
        "price": 2.5
      }
    ],
    "location": "–¢–±–∏–ª–∏—Å–∏, –ì—Ä—É–∑–∏—è (41.7151, 44.8271)"
  },
  "üîÑ user_flow": {
    "1. –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω": "map-screen ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å –∫–∞—Ä—Ç—É —Å –±–∞–π–∫–∞–º–∏",
    "2. –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ": "Scan button ‚Üí qr-scanner ‚Üí —Å–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å QR ‚Üí —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å current-bike",
    "3. –ù–∞—á–∞–ª–æ –∞—Ä–µ–Ω–¥—ã": "bike-rental ‚Üí Start Rental ‚Üí —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å current-rental",
    "4. –ê–∫—Ç–∏–≤–Ω–∞—è –∞—Ä–µ–Ω–¥–∞": "current-rental –≤ state ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å –≤ home/current-rental",
    "5. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ": "End Rental ‚Üí clear-rental ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å –∏—Ç–æ–≥"
  },
  "üîß backend": {
    "[üöÄ Clojure API]": {
      "description": "HTTP API —Å–µ—Ä–≤–µ—Ä –Ω–∞ Clojure",
      "file": "backend/src/bikes_api/simple.clj",
      "port": 3000,
      "url": "http://localhost:3000",
      "tech": ["Clojure", "http-kit", "cheshire"],
      "endpoints": [
        "GET /api/bikes - —Å–ø–∏—Å–æ–∫ –≤–µ–ª–æ—Å–∏–ø–µ–¥–æ–≤",
        "GET /api/bikes/:id - –≤–µ–ª–æ—Å–∏–ø–µ–¥ –ø–æ ID",
        "POST /api/rentals/start - –Ω–∞—á–∞—Ç—å –∞—Ä–µ–Ω–¥—É",
        "GET /api/rentals/current - —Ç–µ–∫—É—â–∞—è –∞—Ä–µ–Ω–¥–∞"
      ],
      "data": {
        "bikes": 3,
        "location": "–¢–±–∏–ª–∏—Å–∏ (41.7151, 44.8271)"
      },
      "start_command": "cd backend && clj -M -m bikes-api.simple"
    }
  },
  "üéØ mvp_status": {
    "completed": [
      "‚úÖ 4 –æ—Å–Ω–æ–≤–Ω—ã—Ö —ç–∫—Ä–∞–Ω–∞ (map, home, qr-scanner, bike-rental)",
      "‚úÖ Google Maps –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è",
      "‚úÖ Routing —Å URL –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏",
      "‚úÖ Global state (atoms)",
      "‚úÖ Mock –¥–∞–Ω–Ω—ã–µ –≤–µ–ª–æ—Å–∏–ø–µ–¥–æ–≤",
      "‚úÖ PWA install prompt",
      "‚úÖ Preview mode –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤",
      "‚úÖ Clojure HTTP API backend",
      "‚úÖ Flutter app –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Clojure API"
    ],
    "pending": [
      "‚è≥ Bluetooth –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è",
      "‚è≥ –†–µ–∞–ª—å–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ QR",
      "‚è≥ –≠–∫—Ä–∞–Ω –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏",
      "‚è≥ History —ç–∫—Ä–∞–Ω",
      "‚è≥ Settings —ç–∫—Ä–∞–Ω"
    ]
  },
  "üöÄ preview_components": {
    "home": ["app-bar", "navbar", "welcome", "welcomeCard", "leading", "logo", "profile", "settings", "scan", "scanQR", "current-rental"],
    "qr-scanner": ["back", "camera", "pwa"],
    "bike-rental": ["bike-info", "rental-status", "start", "end", "instructions", "no-bike-selected"]
  }
}
